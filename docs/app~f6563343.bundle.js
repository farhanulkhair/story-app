"use strict";(self.webpackChunkstory_app=self.webpackChunkstory_app||[]).push([[266],{181:(t,n,r)=>{r.d(n,{A:()=>e});const e={parseActiveUrlWithCombiner:function(){var t=window.location.hash.slice(1).toLowerCase(),n=this._urlSplitter(t);return this._urlCombiner(n)},parseActiveUrlWithoutCombiner:function(){var t=window.location.hash.slice(1).toLowerCase();return this._urlSplitter(t)},_urlSplitter:function(t){var n=t.split("/");return{resource:n[1]||null,id:n[2]||null,verb:n[3]||null}},_urlCombiner:function(t){var n=t.resource?"/".concat(t.resource):"/";return"detail"===t.resource?n+="/:id":t.id&&(n+="/".concat(t.id)),t.verb&&(n+="/".concat(t.verb)),n}}},289:(t,n,r)=>{r.d(n,{A:()=>s});var e=r(354),o=r.n(e),i=r(314),a=r.n(i)()(o());a.push([t.id,"// extracted by mini-css-extract-plugin\nexport {};","",{version:3,sources:["webpack://./src/styles/styles.css"],names:[],mappings:"AAAA;QACS,CAAA",sourcesContent:["// extracted by mini-css-extract-plugin\nexport {};"],sourceRoot:""}]);const s=a},298:(t,n,r)=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function o(){o=function(){return n};var t,n={},r=Object.prototype,i=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,n,r,e){return Object.defineProperty(t,n,{value:r,enumerable:!e,configurable:!e,writable:!e})}try{l({},"")}catch(t){l=function(t,n,r){return t[n]=r}}function f(n,r,e,o){var i=r&&r.prototype instanceof p?r:p,a=Object.create(i.prototype);return l(a,"_invoke",function(n,r,e){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:t,done:!0}}for(e.method=i,e.arg=a;;){var s=e.delegate;if(s){var c=k(s,e);if(c){if(c===h)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(1===o)throw o=4,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o=3;var u=d(n,r,e);if("normal"===u.type){if(o=e.done?4:2,u.arg===h)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(o=4,e.method="throw",e.arg=u.arg)}}}(n,e,new S(o||[])),!0),a}function d(t,n,r){try{return{type:"normal",arg:t.call(n,r)}}catch(t){return{type:"throw",arg:t}}}n.wrap=f;var h={};function p(){}function v(){}function y(){}var m={};l(m,s,(function(){return this}));var g=Object.getPrototypeOf,w=g&&g(g(P([])));w&&w!==r&&i.call(w,s)&&(m=w);var b=y.prototype=p.prototype=Object.create(m);function _(t){["next","throw","return"].forEach((function(n){l(t,n,(function(t){return this._invoke(n,t)}))}))}function x(t,n){function r(o,a,s,c){var u=d(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==e(f)&&i.call(f,"__await")?n.resolve(f.__await).then((function(t){r("next",t,s,c)}),(function(t){r("throw",t,s,c)})):n.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return r("throw",t,s,c)}))}c(u.arg)}var o;l(this,"_invoke",(function(t,e){function i(){return new n((function(n,o){r(t,e,n,o)}))}return o=o?o.then(i,i):i()}),!0)}function k(n,r){var e=r.method,o=n.i[e];if(o===t)return r.delegate=null,"throw"===e&&n.i.return&&(r.method="return",r.arg=t,k(n,r),"throw"===r.method)||"return"!==e&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+e+"' method")),h;var i=d(o,n.i,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,h;var a=i.arg;return a?a.done?(r[n.r]=a.value,r.next=n.n,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,h):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function A(t){this.tryEntries.push(t)}function E(n){var r=n[4]||{};r.type="normal",r.arg=t,n[4]=r}function S(t){this.tryEntries=[[-1]],t.forEach(A,this),this.reset(!0)}function P(n){if(null!=n){var r=n[s];if(r)return r.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var o=-1,a=function r(){for(;++o<n.length;)if(i.call(n,o))return r.value=n[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(e(n)+" is not iterable")}return v.prototype=y,l(b,"constructor",y),l(y,"constructor",v),v.displayName=l(y,u,"GeneratorFunction"),n.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===v||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,u,"GeneratorFunction")),t.prototype=Object.create(b),t},n.awrap=function(t){return{__await:t}},_(x.prototype),l(x.prototype,c,(function(){return this})),n.AsyncIterator=x,n.async=function(t,r,e,o,i){void 0===i&&(i=Promise);var a=new x(f(t,r,e,o),i);return n.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(b),l(b,u,"Generator"),l(b,s,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),n.keys=function(t){var n=Object(t),r=[];for(var e in n)r.unshift(e);return function t(){for(;r.length;)if((e=r.pop())in n)return t.value=e,t.done=!1,t;return t.done=!0,t}},n.values=P,S.prototype={constructor:S,reset:function(n){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!n)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(t){a.type="throw",a.arg=n,r.next=t}for(var o=r.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],s=this.prev,c=i[1],u=i[2];if(-1===i[0])return e("end"),!1;if(!c&&!u)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=s){if(s<c)return this.method="next",this.arg=t,e(c),!0;if(s<u)return e(u),!1}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e[0]>-1&&e[0]<=this.prev&&this.prev<e[2]){var o=e;break}}o&&("break"===t||"continue"===t)&&o[0]<=n&&n<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=t,i.arg=n,o?(this.method="next",this.next=o[2],h):this.complete(i)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),h},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[2]===t)return this.complete(r[4],r[3]),E(r),h}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]===t){var e=r[4];if("throw"===e.type){var o=e.arg;E(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(n,r,e){return this.delegate={i:P(n),r,n:e},"next"===this.method&&(this.arg=t),h}},n}function i(t,n,r,e,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?n(c):Promise.resolve(c).then(e,o)}function a(t){return function(){var n=this,r=arguments;return new Promise((function(e,o){var a=t.apply(n,r);function s(t){i(a,e,o,s,c,"next",t)}function c(t){i(a,e,o,s,c,"throw",t)}s(void 0)}))}}var s;r.d(n,{A:()=>c});const c={init:function(){var t,n,r=this;window.addEventListener("beforeinstallprompt",(function(t){t.preventDefault(),s=t,r._showInstallPromotion()})),null===(t=document.getElementById("installButton"))||void 0===t||t.addEventListener("click",a(o().mark((function t(){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r._hideInstallPromotion(),s.prompt(),t.next=4,s.userChoice;case 4:n=t.sent,n.outcome,s=null;case 8:case"end":return t.stop()}}),t)})))),null===(n=document.getElementById("closeInstallPrompt"))||void 0===n||n.addEventListener("click",(function(){r._hideInstallPromotion()})),window.addEventListener("appinstalled",(function(){r._hideInstallPromotion()}))},_showInstallPromotion:function(){var t=document.getElementById("installPrompt");t&&t.classList.remove("hidden")},_hideInstallPromotion:function(){var t=document.getElementById("installPrompt");t&&t.classList.add("hidden")}}},320:(t,n,r)=>{r.d(n,{A:()=>l});var e=r(561),o=r(680),i=r(619),a=r(942),s=r(650),c=r(785),u=r(299);const l={"/login":new s.A,"/register":new c.A,"/":function(){var t=new e.A,n=new o.A(t);return t.setPresenter(n),t},"/home":function(){var t=new e.A,n=new o.A(t);return t.setPresenter(n),t},"/add":new i.A,"/about":new a.A,"/detail/:id":function(){return new u.A}}},453:(t,n,r)=>{r.d(n,{A:()=>s});var e=r(354),o=r.n(e),i=r(314),a=r.n(i)()(o());a.push([t.id,"// extracted by mini-css-extract-plugin\nexport {};","",{version:3,sources:["webpack://./src/styles/responsive.css"],names:[],mappings:"AAAA;QACS,CAAA",sourcesContent:["// extracted by mini-css-extract-plugin\nexport {};"],sourceRoot:""}]);const s=a},476:(t,n,r)=>{r.d(n,{A:()=>e});const e={_callbacks:[],init:function(){var t=this;window.addEventListener("online",(function(){return t._updateStatus(!0)})),window.addEventListener("offline",(function(){return t._updateStatus(!1)})),this._updateStatus(navigator.onLine)},_updateStatus:function(t){var n=document.getElementById("network-status");n&&(n.textContent=t?"Online":"Offline",n.className=t?"online":"offline"),this._callbacks.forEach((function(n){return n(t)}))},registerCallback:function(t){this._callbacks.push(t)},isOnline:function(){return navigator.onLine}}},486:(t,n,r)=>{var e=r(72),o=r.n(e),i=r(825),a=r.n(i),s=r(659),c=r.n(s),u=r(56),l=r.n(u),f=r(540),d=r.n(f),h=r(113),p=r.n(h),v=r(289),y={};y.styleTagTransform=p(),y.setAttributes=l(),y.insert=c().bind(null,"head"),y.domAPI=a(),y.insertStyleElement=d();o()(v.A,y),v.A&&v.A.locals&&v.A.locals},631:(t,n,r)=>{r.d(n,{Co:()=>l,Cs:()=>s,E1:()=>a,NI:()=>i,RZ:()=>c,Ze:()=>o,_d:()=>u,jk:()=>e});var e=function(t){return'\n  <div class="story-item">\n    <div class="story-item__header">\n      <img class="story-item__image lazyload" src="'.concat(t.photoUrl,'" alt="Foto oleh ').concat(t.name,'" crossorigin="anonymous">\n    </div>\n    <div class="story-item__content">\n      <h3 class="story-item__title"><a href="#/detail/').concat(t.id,'">').concat(t.name,'</a></h3>\n      <p class="story-item__description">').concat(t.description,'</p>\n      <p class="story-item__date">').concat(new Date(t.createdAt).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}),"</p>\n    </div>\n  </div>\n")},o=function(t){return t?'\n    <article class="story-detail">\n      <div class="story-detail__header">\n        <h2 class="story-detail__title">'.concat(t.name||"Untitled Story",'</h2>\n        <div class="story-detail__meta">\n          <p class="story-detail__date">\n            <i class="fas fa-calendar"></i>\n            ').concat(new Date(t.createdAt).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),'\n          </p>\n          <p class="story-detail__author">\n            <i class="fas fa-user"></i>\n            ').concat(t.name||"Anonymous",'\n          </p>\n        </div>\n      </div>\n      \n      <div class="story-detail__content">\n        <div class="story-detail__image-container">\n          <img \n            class="story-detail__image lazyload" \n            data-src="').concat(t.photoUrl,'" \n            src="/images/placeholder.jpg"\n            alt="Foto oleh ').concat(t.name||"Anonymous",'" \n            crossorigin="anonymous"\n            onerror="this.onerror=null; this.src=\'/images/placeholder.jpg\';"\n          >\n        </div>\n        \n        <div class="story-detail__info">\n          <p class="story-detail__description">').concat(t.description||"No description available","</p>\n        </div>\n        \n        ").concat(t.lat&&t.lon?'<div class="story-detail__location">\n              <h3><i class="fas fa-map-marker-alt"></i> Lokasi Story</h3>\n              <div id="mapDetail" class="story-detail__map"></div>\n              <p class="story-detail__coordinates">\n                <small>Koordinat: '.concat(t.lat,", ").concat(t.lon,"</small>\n              </p>\n            </div>"):"","\n      </div>\n    </article>\n  "):'\n      <div class="error-container">\n        <p class="error-message">Story tidak ditemukan</p>\n        <a href="#/home" class="btn btn-primary">Kembali ke Beranda</a>\n      </div>\n    '},i=function(){return'\n  <div class="add-story">\n    <h2 class="add-story__title">Bagikan Ceritamu</h2>\n    <form id="addStoryForm" novalidate>\n      <div class="form-group">\n        <label for="description">\n          Deskripsi Cerita <span class="required">*</span>\n          <small>(minimal 10 karakter)</small>\n        </label>\n        <textarea \n          id="description" \n          name="description" \n          required \n          minlength="10"\n          placeholder="Tulis deskripsi story kamu"\n        ></textarea>\n        <div class="form-validation-message" id="descriptionValidation"></div>\n      </div>\n      \n      <div class="form-group">\n        <h3>Foto Cerita <span class="required">*</span></h3>\n        <div class="camera-container">\n          <button type="button" id="startCamera" class="btn">Buka Kamera</button>\n          <video id="cameraPreview" autoplay playsinline style="display: none;"></video>\n          <canvas id="photoCanvas" style="display: none;"></canvas>\n          <button type="button" id="capturePhoto" class="btn" style="display: none;">Ambil Foto</button>\n          <div id="photoPreview" class="photo-preview"></div>\n          <div class="form-validation-message" id="photoValidation"></div>\n        </div>\n      </div>\n      \n      <div class="form-group">\n        <h3>Lokasi <span class="required">*</span></h3>\n        <div id="mapAdd" class="add-story__map"></div>\n        <div class="location-info">\n          <p>Lokasi Terpilih: <span id="selectedLocation">Belum dipilih</span></p>\n          <div class="form-validation-message" id="locationValidation"></div>\n        </div>\n      </div>\n      \n      <div class="form-info">\n        <p><span class="required">*</span> wajib diisi</p>\n      </div>\n      \n      <button type="submit" class="btn btn-primary">Kirim Cerita</button>\n    </form>\n  </div>\n'},a=function(){return'\n  <a href="#mainContent" class="skip-link">Lewati ke Konten</a>\n'},s=function(){document.querySelector("#loading").style.display="flex"},c=function(){document.querySelector("#loading").style.display="none"},u=function(){alert(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Periksa koneksi internet Anda")},l=function(){var t=document.querySelector("#hamburgerButton"),n=document.querySelector("#navigationDrawer");t.addEventListener("click",(function(t){t.stopPropagation(),n.classList.toggle("open")})),document.addEventListener("click",(function(r){r.target!==n&&r.target!==t&&n.classList.remove("open")}))}},729:(t,n,r)=>{r.d(n,{A:()=>u});var e=r(84),o=(r(703),r(255));function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(){a=function(){return n};var t,n={},r=Object.prototype,e=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,n,r,e){return Object.defineProperty(t,n,{value:r,enumerable:!e,configurable:!e,writable:!e})}try{l({},"")}catch(t){l=function(t,n,r){return t[n]=r}}function f(n,r,e,o){var i=r&&r.prototype instanceof p?r:p,a=Object.create(i.prototype);return l(a,"_invoke",function(n,r,e){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:t,done:!0}}for(e.method=i,e.arg=a;;){var s=e.delegate;if(s){var c=k(s,e);if(c){if(c===h)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(1===o)throw o=4,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o=3;var u=d(n,r,e);if("normal"===u.type){if(o=e.done?4:2,u.arg===h)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(o=4,e.method="throw",e.arg=u.arg)}}}(n,e,new S(o||[])),!0),a}function d(t,n,r){try{return{type:"normal",arg:t.call(n,r)}}catch(t){return{type:"throw",arg:t}}}n.wrap=f;var h={};function p(){}function v(){}function y(){}var m={};l(m,s,(function(){return this}));var g=Object.getPrototypeOf,w=g&&g(g(P([])));w&&w!==r&&e.call(w,s)&&(m=w);var b=y.prototype=p.prototype=Object.create(m);function _(t){["next","throw","return"].forEach((function(n){l(t,n,(function(t){return this._invoke(n,t)}))}))}function x(t,n){function r(o,a,s,c){var u=d(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==i(f)&&e.call(f,"__await")?n.resolve(f.__await).then((function(t){r("next",t,s,c)}),(function(t){r("throw",t,s,c)})):n.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return r("throw",t,s,c)}))}c(u.arg)}var o;l(this,"_invoke",(function(t,e){function i(){return new n((function(n,o){r(t,e,n,o)}))}return o=o?o.then(i,i):i()}),!0)}function k(n,r){var e=r.method,o=n.i[e];if(o===t)return r.delegate=null,"throw"===e&&n.i.return&&(r.method="return",r.arg=t,k(n,r),"throw"===r.method)||"return"!==e&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+e+"' method")),h;var i=d(o,n.i,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,h;var a=i.arg;return a?a.done?(r[n.r]=a.value,r.next=n.n,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,h):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function A(t){this.tryEntries.push(t)}function E(n){var r=n[4]||{};r.type="normal",r.arg=t,n[4]=r}function S(t){this.tryEntries=[[-1]],t.forEach(A,this),this.reset(!0)}function P(n){if(null!=n){var r=n[s];if(r)return r.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var o=-1,a=function r(){for(;++o<n.length;)if(e.call(n,o))return r.value=n[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(i(n)+" is not iterable")}return v.prototype=y,l(b,"constructor",y),l(y,"constructor",v),v.displayName=l(y,u,"GeneratorFunction"),n.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===v||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,u,"GeneratorFunction")),t.prototype=Object.create(b),t},n.awrap=function(t){return{__await:t}},_(x.prototype),l(x.prototype,c,(function(){return this})),n.AsyncIterator=x,n.async=function(t,r,e,o,i){void 0===i&&(i=Promise);var a=new x(f(t,r,e,o),i);return n.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(b),l(b,u,"Generator"),l(b,s,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),n.keys=function(t){var n=Object(t),r=[];for(var e in n)r.unshift(e);return function t(){for(;r.length;)if((e=r.pop())in n)return t.value=e,t.done=!1,t;return t.done=!0,t}},n.values=P,S.prototype={constructor:S,reset:function(n){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!n)for(var r in this)"t"===r.charAt(0)&&e.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(t){a.type="throw",a.arg=n,r.next=t}for(var o=r.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],s=this.prev,c=i[1],u=i[2];if(-1===i[0])return e("end"),!1;if(!c&&!u)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=s){if(s<c)return this.method="next",this.arg=t,e(c),!0;if(s<u)return e(u),!1}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e[0]>-1&&e[0]<=this.prev&&this.prev<e[2]){var o=e;break}}o&&("break"===t||"continue"===t)&&o[0]<=n&&n<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=t,i.arg=n,o?(this.method="next",this.next=o[2],h):this.complete(i)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),h},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[2]===t)return this.complete(r[4],r[3]),E(r),h}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]===t){var e=r[4];if("throw"===e.type){var o=e.arg;E(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(n,r,e){return this.delegate={i:P(n),r,n:e},"next"===this.method&&(this.arg=t),h}},n}function s(t,n,r,e,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?n(c):Promise.resolve(c).then(e,o)}function c(t){return function(){var n=this,r=arguments;return new Promise((function(e,o){var i=t.apply(n,r);function a(t){s(i,e,o,a,c,"next",t)}function c(t){s(i,e,o,a,c,"throw",t)}a(void 0)}))}}const u={registerServiceWorker:function(){return c(a().mark((function t(){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("serviceWorker"in navigator){t.next=3;break}return t.abrupt("return",null);case 3:return t.prev=3,t.next=6,navigator.serviceWorker.register("/sw.js");case 6:return n=t.sent,t.abrupt("return",n);case 11:return t.prev=11,t.t0=t.catch(3),t.abrupt("return",null);case 15:case"end":return t.stop()}}),t,null,[[3,11]])})))()},requestPermission:function(){return c(a().mark((function t(){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("Notification"in window){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,Notification.requestPermission();case 5:if("denied"!==(n=t.sent)){t.next=9;break}return t.abrupt("return");case 9:if("default"!==n){t.next=12;break}return t.abrupt("return");case 12:case 13:case"end":return t.stop()}}),t)})))()},isNotificationReady:function(){return c(a().mark((function t(){var n,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("Notification"in window){t.next=2;break}return t.abrupt("return",!1);case 2:return t.prev=2,t.next=5,navigator.serviceWorker.ready;case 5:return n=t.sent,t.next=8,n.pushManager.getSubscription();case 8:return r=t.sent,t.abrupt("return","granted"===Notification.permission&&!!r);case 12:return t.prev=12,t.t0=t.catch(2),t.abrupt("return",!1);case 15:case"end":return t.stop()}}),t,null,[[2,12]])})))()},subscribePushNotification:function(t){var n=this;return c(a().mark((function r(){var i,s;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,i={userVisibleOnly:!0,applicationServerKey:n._urlB64ToUint8Array(o.A.PUSH_MSG_VAPID_PUBLIC_KEY)},r.next=4,t.pushManager.subscribe(i);case 4:return s=r.sent,r.next=8,e.A.subscribePushNotification(s);case 8:return r.next=11,n.sendTestNotification();case 11:return r.abrupt("return",s);case 14:throw r.prev=14,r.t0=r.catch(0),r.t0;case 18:case"end":return r.stop()}}),r,null,[[0,14]])})))()},unsubscribePushNotification:function(t){return c(a().mark((function n(){var r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.pushManager.getSubscription();case 3:if(r=n.sent){n.next=6;break}return n.abrupt("return");case 6:return n.next=8,e.A.unsubscribePushNotification(r);case 8:return n.next=10,r.unsubscribe();case 10:n.next=17;break;case 13:throw n.prev=13,n.t0=n.catch(0),n.t0;case 17:case"end":return n.stop()}}),n,null,[[0,13]])})))()},isSubscribed:function(t){return c(a().mark((function n(){var r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return",!1);case 2:return n.next=4,t.pushManager.getSubscription();case 4:return r=n.sent,n.abrupt("return",!!r);case 6:case"end":return n.stop()}}),n)})))()},sendTestNotification:function(){return c(a().mark((function t(){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,navigator.serviceWorker.ready;case 2:if(n=t.sent,"granted"!==Notification.permission){t.next=6;break}return t.next=6,n.showNotification("Story App Test Notification",{body:"Notifikasi berhasil diaktifkan! Anda akan menerima pemberitahuan ketika ada story baru.",icon:"/favicon.png",badge:"/favicon.png",vibrate:[100,50,100],data:{dateOfArrival:Date.now(),primaryKey:1,url:window.location.origin}});case 6:case"end":return t.stop()}}),t)})))()},_urlB64ToUint8Array:function(t){for(var n=(t+"=".repeat((4-t.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),r=window.atob(n),e=new Uint8Array(r.length),o=0;o<r.length;o++)e[o]=r.charCodeAt(o);return e}}},930:(t,n,r)=>{var e=r(72),o=r.n(e),i=r(825),a=r.n(i),s=r(659),c=r.n(s),u=r(56),l=r.n(u),f=r(540),d=r.n(f),h=r(113),p=r.n(h),v=r(453),y={};y.styleTagTransform=p(),y.setAttributes=l(),y.insert=c().bind(null,"head"),y.domAPI=a(),y.insertStyleElement=d();o()(v.A,y),v.A&&v.A.locals&&v.A.locals}},t=>{t.O(0,[102,481,46,964,703,196,925,620,19],(()=>{return n=602,t(t.s=n);var n}));t.O()}]);
//# sourceMappingURL=app~f6563343.bundle.js.map